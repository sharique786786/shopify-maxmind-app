"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const errors_1 = require("../errors");
const singleChar = /^[A-Za-z0-9]$/;
const issuerIdNumberRegex = /^[0-9]{6}$/;
const last4Regex = /^[0-9]{4}$/;
const tokenRegex = /^(?![0-9]{1,19}$)[\u0021-\u007E]{1,255}$/;
class CreditCard {
    constructor(creditCard) {
        if (creditCard.avsResult != null &&
            !singleChar.test(creditCard.avsResult)) {
            throw new errors_1.ArgumentError(`avsResult should be a single character but we received: ${creditCard.avsResult}`);
        }
        if (creditCard.cvvResult != null &&
            !singleChar.test(creditCard.cvvResult)) {
            throw new errors_1.ArgumentError(`cvvResult should be a single character but we received: ${creditCard.cvvResult}`);
        }
        if (creditCard.issuerIdNumber != null &&
            !issuerIdNumberRegex.test(creditCard.issuerIdNumber)) {
            throw new errors_1.ArgumentError(`The issuer ID number (issuerIdNumber) ${creditCard.issuerIdNumber} is of the wrong format.`);
        }
        if (creditCard.last4digits != null &&
            !last4Regex.test(creditCard.last4digits)) {
            throw new errors_1.ArgumentError(`The last 4 credit card digits (last4digits) ${creditCard.last4digits} are of the wrong format.`);
        }
        if (creditCard.token != null && !tokenRegex.test(creditCard.token)) {
            throw new errors_1.ArgumentError(`The credit card token (token) ${creditCard.token} was invalid. Tokens must be non-space ASCII printable characters. If the token consists of all digits, it must be more than 19 digits.`);
        }
        Object.assign(this, creditCard);
    }
}
exports.default = CreditCard;
